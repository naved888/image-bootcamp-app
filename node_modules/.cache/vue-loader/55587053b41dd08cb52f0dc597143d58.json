{"remainingRequest":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-media-recorder/src/components/PhotoCapture.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-media-recorder/src/components/PhotoCapture.vue","mtime":1613310464733},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGhvdG9DYXB0dXJlIiwKICBwcm9wczogewogICAgc3R5bGluZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGlzUmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGhpZGVCdXR0b25zOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgYnV0dG9uc0NsYXNzZXM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIGNhcHR1cmVCdG5Db250ZW50OiB7CiAgICAgIGRlZmF1bHQ6ICJDYXB0dXJlIgogICAgfSwKICAgIGNhbmNlbEJ0bkNvbnRlbnQ6IHsKICAgICAgZGVmYXVsdDogIkNhbmNlbCIKICAgIH0sCiAgICBkb25lQnRuQ29udGVudDogewogICAgICBkZWZhdWx0OiAiT0siCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1ZpZGVvOiB0cnVlLAogICAgICBwaWN0dXJlOiBudWxsLAogICAgICBpc1ZhbGlkOiB0cnVlCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudmlkZW9QbGF5ZXIgPSB0aGlzLiRyZWZzLnBsYXllcjsKICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgdGhpcy5zdHJlYW1Vc2VyTWVkaWFWaWRlbygpOwogIH0sCiAgbWV0aG9kczogewogICAgc3RyZWFtVXNlck1lZGlhVmlkZW8oKSB7CiAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcwogICAgICAgIC5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KQogICAgICAgIC50aGVuKHN0cmVhbSA9PiAodGhpcy52aWRlb1BsYXllci5zcmNPYmplY3QgPSBzdHJlYW0pKQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzVmFsaWQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjYXB0dXJlKCkgewogICAgICB0aGlzLnNob3dWaWRlbyA9IGZhbHNlOwogICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSB0aGlzLnZpZGVvUGxheWVyLnZpZGVvV2lkdGg7CiAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLnZpZGVvUGxheWVyLnZpZGVvSGVpZ2h0OwoKICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5jYW52YXNFbGVtZW50LndpZHRoLCAwKTsKICAgICAgY29udGV4dC5zY2FsZSgtMSwgMSk7CgogICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLiRyZWZzLnBsYXllciwgMCwgMCk7CgogICAgICB0aGlzLnN0b3BWaWRlb1N0cmVhbSgpOwogICAgICB0aGlzLnBpY3R1cmUgPSB0aGlzLiRyZWZzLmNhbnZhcy50b0RhdGFVUkwoKTsKICAgIH0sCiAgICBkb25lKCkgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMucGljdHVyZSk7CiAgICAgIHRoaXMuc2hvd1ZpZGVvID0gZmFsc2U7CiAgICAgIHRoaXMuc3RyZWFtVXNlck1lZGlhVmlkZW8oKTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuc2hvd1ZpZGVvID0gdHJ1ZTsKICAgICAgdGhpcy5zdHJlYW1Vc2VyTWVkaWFWaWRlbygpOwogICAgfSwKICAgIHN0b3BWaWRlb1N0cmVhbSgpIHsKICAgICAgaWYgKCEodGhpcy4kcmVmcy5wbGF5ZXIgJiYgdGhpcy4kcmVmcy5wbGF5ZXIuc3JjT2JqZWN0KSkgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLnBsYXllci5zcmNPYmplY3QuZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHsKICAgICAgICB0cmFjay5zdG9wKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["PhotoCapture.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhotoCapture.vue","sourceRoot":"node_modules/vue-media-recorder/src/components","sourcesContent":["<template>\n  <section :style=\"styling\" v-if=\"isValid\" class=\"photo-capture\">\n    <video v-show=\"showVideo\" ref=\"player\" class=\"camera\" autoplay playsinline />\n    <canvas v-show=\"!showVideo\" class=\"preview\" ref=\"canvas\" />\n    <h1>TESTING</h1>\n    <div class=\"center photo-capture-actions\" >\n      <button\n        :class=\"'btn flex-center '  + buttonsClasses\"\n        @click.prevent=\"capture\"\n        v-if=\"showVideo\"\n      >{{captureBtnContent}}</button>\n      <div v-else>\n        <button :class=\"'btn '+ buttonsClasses\" @click.prevent=\"cancel\">{{cancelBtnContent}}</button>\n        <button :class=\"'btn '+ buttonsClasses\" @click.prevent=\"done\">{{doneBtnContent}}</button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: \"PhotoCapture\",\n  props: {\n    styling: {\n      type: Object,\n      isRequired: false\n    },\n    value: {\n      default: null\n    },\n    hideButtons: {\n      type: Boolean,\n      default: false\n    },\n    buttonsClasses: {\n      type: String,\n      default: \"\"\n    },\n    captureBtnContent: {\n      default: \"Capture\"\n    },\n    cancelBtnContent: {\n      default: \"Cancel\"\n    },\n    doneBtnContent: {\n      default: \"OK\"\n    }\n  },\n  data() {\n    return {\n      showVideo: true,\n      picture: null,\n      isValid: true\n    };\n  },\n  mounted() {\n    this.videoPlayer = this.$refs.player;\n    this.canvasElement = this.$refs.canvas;\n    this.streamUserMediaVideo();\n  },\n  methods: {\n    streamUserMediaVideo() {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        return;\n      }\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then(stream => (this.videoPlayer.srcObject = stream))\n        .catch(() => {\n          this.isValid = false;\n        });\n    },\n    capture() {\n      this.showVideo = false;\n      this.canvasElement.width = this.videoPlayer.videoWidth;\n      this.canvasElement.height = this.videoPlayer.videoHeight;\n\n      var context = this.canvasElement.getContext(\"2d\");\n      context.translate(this.canvasElement.width, 0);\n      context.scale(-1, 1);\n\n      context.drawImage(this.$refs.player, 0, 0);\n\n      this.stopVideoStream();\n      this.picture = this.$refs.canvas.toDataURL();\n    },\n    done() {\n      this.$emit(\"input\", this.picture);\n      this.showVideo = false;\n      this.streamUserMediaVideo();\n    },\n    cancel() {\n      this.showVideo = true;\n      this.streamUserMediaVideo();\n    },\n    stopVideoStream() {\n      if (!(this.$refs.player && this.$refs.player.srcObject)) return;\n      this.$refs.player.srcObject.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n    }\n  }\n};\n</script>\n\n\n"]}]}
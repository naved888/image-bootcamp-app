{"remainingRequest":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/babel-loader/lib/index.js!/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-media-recorder/src/components/PhotoCapture.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-media-recorder/src/components/PhotoCapture.vue","mtime":1613310464733},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/naved888/Naved/projects/image-edit-bootcamp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQaG90b0NhcHR1cmUiLAogIHByb3BzOiB7CiAgICBzdHlsaW5nOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgaXNSZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICB2YWx1ZTogewogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgaGlkZUJ1dHRvbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBidXR0b25zQ2xhc3NlczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgY2FwdHVyZUJ0bkNvbnRlbnQ6IHsKICAgICAgZGVmYXVsdDogIkNhcHR1cmUiCiAgICB9LAogICAgY2FuY2VsQnRuQ29udGVudDogewogICAgICBkZWZhdWx0OiAiQ2FuY2VsIgogICAgfSwKICAgIGRvbmVCdG5Db250ZW50OiB7CiAgICAgIGRlZmF1bHQ6ICJPSyIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93VmlkZW86IHRydWUsCiAgICAgIHBpY3R1cmU6IG51bGwsCiAgICAgIGlzVmFsaWQ6IHRydWUKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy52aWRlb1BsYXllciA9IHRoaXMuJHJlZnMucGxheWVyOwogICAgdGhpcy5jYW52YXNFbGVtZW50ID0gdGhpcy4kcmVmcy5jYW52YXM7CiAgICB0aGlzLnN0cmVhbVVzZXJNZWRpYVZpZGVvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdHJlYW1Vc2VyTWVkaWFWaWRlbzogZnVuY3Rpb24gc3RyZWFtVXNlck1lZGlhVmlkZW8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgICAgdmlkZW86IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnZpZGVvUGxheWVyLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzVmFsaWQgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgY2FwdHVyZTogZnVuY3Rpb24gY2FwdHVyZSgpIHsKICAgICAgdGhpcy5zaG93VmlkZW8gPSBmYWxzZTsKICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy52aWRlb1BsYXllci52aWRlb1dpZHRoOwogICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gdGhpcy52aWRlb1BsYXllci52aWRlb0hlaWdodDsKICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5jYW52YXNFbGVtZW50LndpZHRoLCAwKTsKICAgICAgY29udGV4dC5zY2FsZSgtMSwgMSk7CiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuJHJlZnMucGxheWVyLCAwLCAwKTsKICAgICAgdGhpcy5zdG9wVmlkZW9TdHJlYW0oKTsKICAgICAgdGhpcy5waWN0dXJlID0gdGhpcy4kcmVmcy5jYW52YXMudG9EYXRhVVJMKCk7CiAgICB9LAogICAgZG9uZTogZnVuY3Rpb24gZG9uZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLnBpY3R1cmUpOwogICAgICB0aGlzLnNob3dWaWRlbyA9IGZhbHNlOwogICAgICB0aGlzLnN0cmVhbVVzZXJNZWRpYVZpZGVvKCk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuc2hvd1ZpZGVvID0gdHJ1ZTsKICAgICAgdGhpcy5zdHJlYW1Vc2VyTWVkaWFWaWRlbygpOwogICAgfSwKICAgIHN0b3BWaWRlb1N0cmVhbTogZnVuY3Rpb24gc3RvcFZpZGVvU3RyZWFtKCkgewogICAgICBpZiAoISh0aGlzLiRyZWZzLnBsYXllciAmJiB0aGlzLiRyZWZzLnBsYXllci5zcmNPYmplY3QpKSByZXR1cm47CiAgICAgIHRoaXMuJHJlZnMucGxheWVyLnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgdHJhY2suc3RvcCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["PhotoCapture.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section :style=\"styling\" v-if=\"isValid\" class=\"photo-capture\">\n    <video v-show=\"showVideo\" ref=\"player\" class=\"camera\" autoplay playsinline />\n    <canvas v-show=\"!showVideo\" class=\"preview\" ref=\"canvas\" />\n    <h1>TESTING</h1>\n    <div class=\"center photo-capture-actions\" >\n      <button\n        :class=\"'btn flex-center '  + buttonsClasses\"\n        @click.prevent=\"capture\"\n        v-if=\"showVideo\"\n      >{{captureBtnContent}}</button>\n      <div v-else>\n        <button :class=\"'btn '+ buttonsClasses\" @click.prevent=\"cancel\">{{cancelBtnContent}}</button>\n        <button :class=\"'btn '+ buttonsClasses\" @click.prevent=\"done\">{{doneBtnContent}}</button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: \"PhotoCapture\",\n  props: {\n    styling: {\n      type: Object,\n      isRequired: false\n    },\n    value: {\n      default: null\n    },\n    hideButtons: {\n      type: Boolean,\n      default: false\n    },\n    buttonsClasses: {\n      type: String,\n      default: \"\"\n    },\n    captureBtnContent: {\n      default: \"Capture\"\n    },\n    cancelBtnContent: {\n      default: \"Cancel\"\n    },\n    doneBtnContent: {\n      default: \"OK\"\n    }\n  },\n  data() {\n    return {\n      showVideo: true,\n      picture: null,\n      isValid: true\n    };\n  },\n  mounted() {\n    this.videoPlayer = this.$refs.player;\n    this.canvasElement = this.$refs.canvas;\n    this.streamUserMediaVideo();\n  },\n  methods: {\n    streamUserMediaVideo() {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        return;\n      }\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then(stream => (this.videoPlayer.srcObject = stream))\n        .catch(() => {\n          this.isValid = false;\n        });\n    },\n    capture() {\n      this.showVideo = false;\n      this.canvasElement.width = this.videoPlayer.videoWidth;\n      this.canvasElement.height = this.videoPlayer.videoHeight;\n\n      var context = this.canvasElement.getContext(\"2d\");\n      context.translate(this.canvasElement.width, 0);\n      context.scale(-1, 1);\n\n      context.drawImage(this.$refs.player, 0, 0);\n\n      this.stopVideoStream();\n      this.picture = this.$refs.canvas.toDataURL();\n    },\n    done() {\n      this.$emit(\"input\", this.picture);\n      this.showVideo = false;\n      this.streamUserMediaVideo();\n    },\n    cancel() {\n      this.showVideo = true;\n      this.streamUserMediaVideo();\n    },\n    stopVideoStream() {\n      if (!(this.$refs.player && this.$refs.player.srcObject)) return;\n      this.$refs.player.srcObject.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n    }\n  }\n};\n</script>\n\n\n"],"sourceRoot":"node_modules/vue-media-recorder/src/components"}]}